{
    "D3js": {
        "import_script": "<script src=\"https://d3js.org/d3.v7.min.js\"></script>",
        "body": "<div id=\"chart-container\"></div>",
        "css": "body { margin: 0; overflow: hidden; font-family: sans-serif; }\n#chart-container { width: 100vw; height: 100vh; }",
        "data": "[\n  {\"cat\": \"0\", \"yes\": 30, \"no\": 50, \"none\": 45},\n  {\"cat\": \"1\", \"yes\": 200, \"no\": 220, \"none\": 160},\n  {\"cat\": \"2\", \"yes\": 100, \"no\": 110, \"none\": 80},\n  {\"cat\": \"3\", \"yes\": 400, \"no\": 420, \"none\": 330},\n  {\"cat\": \"4\", \"yes\": 150, \"no\": 140, \"none\": 125},\n  {\"cat\": \"5\", \"yes\": 250, \"no\": 245, \"none\": 210},\n  {\"cat\": \"6\", \"yes\": 45, \"no\": 10, \"none\": 15},\n  {\"cat\": \"7\", \"yes\": 22, \"no\": 22, \"none\": 25},\n  {\"cat\": \"8\", \"yes\": 35, \"no\": 35, \"none\": 38},\n  {\"cat\": \"9\", \"yes\": 10, \"no\": 45, \"none\": 45},\n  {\"cat\": \"10\", \"yes\": 30, \"no\": 50, \"none\": 45},\n  {\"cat\": \"11\", \"yes\": 200, \"no\": 220, \"none\": 165}\n]",
        "script_render": "const container = d3.select('#chart-container');\nconst render = () => {\n  container.selectAll('*').remove();\n  const width = container.node().clientWidth;\n  const height = container.node().clientHeight;\n  const margin = {top: 40, right: 40, bottom: 60, left: 60};\n  const svg = container.append('svg').attr('width', width).attr('height', height);\n  const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n  const innerW = width - margin.left - margin.right;\n  const innerH = height - margin.top - margin.bottom;\n\n  const x0 = d3.scaleBand().rangeRound([0, innerW]).paddingInner(0.1).domain(dataset.map(d => d.cat));\n  const x1 = d3.scaleBand().padding(0.05).domain(['yes', 'no']).rangeRound([0, x0.bandwidth()]);\n  const y = d3.scaleLinear().rangeRound([innerH, 0]).domain([0, 450]);\n\n  g.append('g').attr('transform', `translate(0,${innerH})`).call(d3.axisBottom(x0));\n  g.append('g').call(d3.axisLeft(y));\n  g.append('text').attr('transform', 'rotate(-90)').attr('y', -45).attr('x', -innerH/2).attr('text-anchor', 'middle').text('Nr. Users');\n\n  const groups = g.selectAll('.group').data(dataset).enter().append('g').attr('transform', d => `translate(${x0(d.cat)},0)`);\n  groups.selectAll('rect').data(d => [{key:'yes', val:d.yes}, {key:'no', val:d.no}]).enter().append('rect')\n    .attr('x', d => x1(d.key)).attr('y', d => y(d.val)).attr('width', x1.bandwidth()).attr('height', d => innerH - y(d.val))\n    .attr('fill', d => d.key === 'yes' ? '#1f77b4' : '#ff7f0e');\n\n  const line = d3.line().x(d => x0(d.cat) + x0.bandwidth() / 2).y(d => y(d.none));\n  g.append('path').datum(dataset).attr('fill', 'none').attr('stroke', '#2ca02c').attr('stroke-width', 1).attr('d', line);\n  g.selectAll('.dot').data(dataset).enter().append('circle').attr('cx', d => x0(d.cat) + x0.bandwidth() / 2).attr('cy', d => y(d.none)).attr('r', 3).attr('fill', '#2ca02c');\n};\nrender();\nwindow.addEventListener('resize', render);"
    },
    "echarts": {
        "import_script": "<script src=\"https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js\"></script>",
        "body": "<div id=\"chart\" style=\"width: 100vw; height: 100vh;\"></div>",
        "css": "body { margin: 0; }",
        "data": "[\n  {\"cat\": \"0\", \"yes\": 30, \"no\": 50, \"none\": 45},\n  {\"cat\": \"1\", \"yes\": 200, \"no\": 220, \"none\": 160},\n  {\"cat\": \"2\", \"yes\": 100, \"no\": 110, \"none\": 80},\n  {\"cat\": \"3\", \"yes\": 400, \"no\": 420, \"none\": 330},\n  {\"cat\": \"4\", \"yes\": 150, \"no\": 140, \"none\": 125},\n  {\"cat\": \"5\", \"yes\": 250, \"no\": 245, \"none\": 210},\n  {\"cat\": \"6\", \"yes\": 45, \"no\": 10, \"none\": 15},\n  {\"cat\": \"7\", \"yes\": 22, \"no\": 22, \"none\": 25},\n  {\"cat\": \"8\", \"yes\": 35, \"no\": 35, \"none\": 38},\n  {\"cat\": \"9\", \"yes\": 10, \"no\": 45, \"none\": 45},\n  {\"cat\": \"10\", \"yes\": 30, \"no\": 50, \"none\": 45},\n  {\"cat\": \"11\", \"yes\": 200, \"no\": 220, \"none\": 165}\n]",
        "script_render": "const chart = echarts.init(document.getElementById('chart'));\nconst option = {\n  tooltip: { trigger: 'axis' },\n  legend: { bottom: 10 },\n  xAxis: { type: 'category', data: dataset.map(d => d.cat) },\n  yAxis: { type: 'value', name: 'Nr. Users' },\n  series: [\n    { name: 'yes', type: 'bar', data: dataset.map(d => d.yes), itemStyle: {color: '#1f77b4'} },\n    { name: 'no', type: 'bar', data: dataset.map(d => d.no), itemStyle: {color: '#ff7f0e'} },\n    { name: 'none', type: 'line', data: dataset.map(d => d.none), itemStyle: {color: '#2ca02c'}, symbolSize: 6 }\n  ]\n};\nchart.setOption(option);\nwindow.addEventListener('resize', () => chart.resize());"
    },
    "vega": {
        "import_script": "<script src=\"https://cdn.jsdelivr.net/npm/vega@5\"></script><script src=\"https://cdn.jsdelivr.net/npm/vega-lite@5\"></script><script src=\"https://cdn.jsdelivr.net/npm/vega-embed@6\"></script>",
        "body": "<div id=\"vis\" style=\"width: 100vw; height: 100vh;\"></div>",
        "css": "body { margin: 0; } #vis { width: 100%; height: 100%; }",
        "data": "[\n  {\"cat\": \"0\", \"yes\": 30, \"no\": 50, \"none\": 45},\n  {\"cat\": \"1\", \"yes\": 200, \"no\": 220, \"none\": 160},\n  {\"cat\": \"2\", \"yes\": 100, \"no\": 110, \"none\": 80},\n  {\"cat\": \"3\", \"yes\": 400, \"no\": 420, \"none\": 330},\n  {\"cat\": \"4\", \"yes\": 150, \"no\": 140, \"none\": 125},\n  {\"cat\": \"5\", \"yes\": 250, \"no\": 245, \"none\": 210},\n  {\"cat\": \"6\", \"yes\": 45, \"no\": 10, \"none\": 15},\n  {\"cat\": \"7\", \"yes\": 22, \"no\": 22, \"none\": 25},\n  {\"cat\": \"8\", \"yes\": 35, \"no\": 35, \"none\": 38},\n  {\"cat\": \"9\", \"yes\": 10, \"no\": 45, \"none\": 45},\n  {\"cat\": \"10\", \"yes\": 30, \"no\": 50, \"none\": 45},\n  {\"cat\": \"11\", \"yes\": 200, \"no\": 220, \"none\": 165}\n]",
        "script_render": "const spec = {\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"width\": \"container\", \"height\": \"container\",\n  \"data\": { \"values\": dataset },\n  \"layer\": [\n    {\n      \"transform\": [{\"fold\": [\"yes\", \"no\"], \"as\": [\"key\", \"value\"]}],\n      \"mark\": \"bar\",\n      \"encoding\": {\n        \"x\": {\"field\": \"cat\", \"type\": \"nominal\", \"axis\": {\"labelAngle\": 0}},\n        \"y\": {\"field\": \"value\", \"type\": \"quantitative\", \"title\": \"Nr. Users\"},\n        \"xOffset\": {\"field\": \"key\"},\n        \"color\": {\"field\": \"key\", \"scale\": {\"domain\": [\"yes\", \"no\"], \"range\": [\"#1f77b4\", \"#ff7f0e\"]}}\n      }\n    },\n    {\n      \"mark\": {\"type\": \"line\", \"point\": true, \"color\": \"#2ca02c\"},\n      \"encoding\": {\n        \"x\": {\"field\": \"cat\", \"type\": \"nominal\"},\n        \"y\": {\"field\": \"none\", \"type\": \"quantitative\"}\n      }\n    }\n  ],\n  \"config\": {\"legend\": {\"orient\": \"bottom\"}}\n};\nvegaEmbed('#vis', spec);"
    }
}